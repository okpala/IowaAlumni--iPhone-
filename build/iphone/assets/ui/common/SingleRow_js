function SingleRow(e,t,i){var o=Ti.UI.createTableView({separatorColor:"d5d5d5",backgroundColor:"ffffff",height:"auto",width:300,left:10,top:10,bottom:0,padding:0,borderRadius:5,borderColor:"#d5d5d5",borderWidth:1,scrollable:!1}),a=Ti.UI.createTableViewRow({height:150});a.addEventListener("click",function(){new WebView(e.url),t.trackEvent({category:"Events",action:"click",label:"An Event in the "+i+"'s Window - "+e.url,value:1})}),o.height=a.height;var n=[];n.push(a),o.setData(n);var r=Ti.UI.createTableViewRow({hasChild:!0,height:o.height+15,padding:0,top:0,bottom:0,link:e.url,layout:"vertical",selectionStyle:"none",backgroundColor:"e2e2e2"});r.rightImage=null,r.backgroundSelectedImage=null,r.backgroundFocusImage=null,r.add(o);var l=Ti.UI.createButton({width:40,height:40,backgroundImage:"calendar_add.png",bottom:5,right:10,zIndex:5,font:{fontFamily:"HelveticaNeue-Light",fontSize:12,fontWeight:"bold"}});return"NA"!=e.startDate&&"NA"!=e.endDate&&o.add(l),l.addEventListener("click",function(){Ti.Calendar.eventsAuthorization==Ti.Calendar.AUTHORIZATION_AUTHORIZED?performCalendarWriteFunctions(e):Ti.Calendar.requestEventsAuthorization(function(t){t.success?performCalendarWriteFunctions(e):alert("Access to calendar is not allowed")})}),titlelbl=getTitleLabel(e.title),a.add(titlelbl),timebl=timeLabel(),a.add(timebl),inputtimebl=getTime(e.snl),a.add(inputtimebl),inputplacebl=getPlace(e.place),a.add(inputplacebl),placebl=placeLabel(),a.add(placebl),timebl.top=titlelbl.height+15,inputtimebl.top=timebl.top,placebl.top=inputplacebl.top=timebl.height+titlelbl.height+15,a.height=titlelbl.height+inputtimebl.height+inputplacebl.height+25,o.height=a.height,r.height=o.height+15,r}function getTitleLabel(e){var t=Ti.UI.createLabel({text:e,height:"auto",width:250,color:"#efc006",font:{fontFamily:"Helvetica",fontSize:16,fontWeight:"bold"}}),i=Ti.UI.createView({width:250,height:"auto"});i.add(t);var o=Ti.UI.createLabel({text:e,left:15,top:10,bottom:10,height:i.toImage().height,textAlign:"left",width:270,color:"#303030",shadowOpacity:.5,shadowOffset:{x:0,y:1},font:{fontFamily:"Helvetica-Bold",fontSize:16,fontWeight:"normal"}});return o}function performCalendarWriteFunctions(e){var t=Titanium.UI.createAlertDialog({title:e.title,message:"Do you want to save this event to your calendar?",buttonNames:["Yes","No"]});t.addEventListener("click",function(t){if(0==t.index){var i=Ti.Calendar.defaultCalendar,o=new Date(e.startDate),a=new Date(e.endDate),n=i.createEvent({title:e.title,notes:e.description,location:e.place,begin:o,end:a,availability:Ti.Calendar.AVAILABILITY_FREE,allDay:!1});n.save(Ti.Calendar.SPAN_THISEVENT)}else 1==t.index}),t.show()}function getpubDateLabel(e){var t=Ti.UI.createLabel({text:e,left:15,top:10,textAlign:"left",width:200,height:20,color:"#5c4e1a",shadowColor:"#f0d87f",shadowOpacity:.5,shadowOffset:{x:0,y:1},font:{fontFamily:"HelveticaNeue-CondensedBold",fontSize:12,fontWeight:"bold"}});return t}function timeLabel(){var e=Ti.UI.createLabel({text:"Time: ",left:15,top:0,textAlign:"left",width:200,height:20,color:"#000000",font:{fontFamily:"HelveticaNeue-Bold",fontSize:12,fontWeight:"bold"}});return this.postheight+=e.toImage().height,e}function getTime(e){var t=Ti.UI.createLabel({text:new EditText(e).adjustedText(),left:55,top:0,textAlign:"left",width:200,height:20,color:"#000000",font:{fontFamily:"HelveticaNeue-Light",fontSize:12,fontWeight:"bold"}});return t}function getPlace(e){var t=Ti.UI.createLabel({text:new EditText(e).adjustedText(),left:55,bottom:10,top:0,height:20,textAlign:"left",width:200,color:"#000000",font:{fontFamily:"HelveticaNeue-Light",fontSize:12,fontWeight:"bold"}});return t}function placeLabel(){var e=Ti.UI.createLabel({text:"Place: ",left:15,top:0,textAlign:"left",width:200,height:20,color:"#000000",font:{fontFamily:"HelveticaNeue-Bold",fontSize:12,fontWeight:"bold"}});return this.postheight+=e.toImage().height,e}var DateObject=require("ui/common/DateObject"),EditText=require("ui/common/EditText"),WebView=require("ui/common/WebView"),EK=require("ti.eventkit");Titanium.event=require("ti.eventkit"),module.exports=SingleRow;