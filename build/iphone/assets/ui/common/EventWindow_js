function EventsWindow(e,t){var i=Titanium.UI.createView(),n=new ApplicationWindow(e,i),o=0,a=60,r=new Feed;t.trackScreen(e);{var d=[],l=new GetFeed(r.eventsFeed()),c=new GetFeed(r.eventsSportsCategoryFeed()),s=new GetFeed(r.eventsClubsCategoryFeed()),u=new GetFeed(r.eventsUIAACategoryFeed()),w=new GetFeed(r.eventsStudentCategoryFeed()),m=Titanium.UI.createView({top:0,left:0,width:Ti.UI.FILL,height:Ti.Platform.displayCaps.platformHeight-a}),g=createEventView(l,e,a,d);createEventView(c,e,a,d),createEventView(s,e,a,d),createEventView(u,e,a,d),createEventView(w,e,a,d)}m.add(g);var h,b=[],T=[i,m];h=1==d.length?["dots1_1.png"]:2==d.length?["dots2_1.png","dots2_2.png"]:3==d.length?["dots3_1.png","dots3_2.png","dots3_3.png"]:3==d.length?["dots4_1.png","dots4_2.png","dots4_3.png","dots4_4.png"]:["dots1.png","dots2.png","dots3.png","dots4.png","dots5.png"];for(var f=Ti.UI.createImageView({image:"slide_right.png",bottom:3,right:5,width:54,height:54,zIndex:5}),p=Ti.UI.createImageView({image:"slide_left.png",bottom:3,left:5,width:54,height:54,zIndex:5}),v=0;v<d.length;v++){var I=Titanium.UI.createView({}),R=Ti.UI.createLabel({text:d[v][0][0].category,font:{fontFamily:"HelveticaNeue-Light",fontSize:20,fontWeight:"bold"},top:15}),M=Ti.UI.createImageView({image:h[v],top:45,height:10});I.add(R),I.add(M),b[v]=I}var F=Titanium.UI.createScrollableView({width:Ti.UI.FILL,height:a,views:b,bottom:0,backgroundColor:"#ccc",contentWidth:Ti.UI.FILL,contentHeight:100,mainContent:m});return i.add(f),i.add(p),i.add(m),i.add(F),f.hide(),p.hide(),F.addEventListener("scrollend",function(e){p.hide(),f.hide(),0==e.currentPage&&1==o?(T[1].remove(d[1][1]),o=0):1==e.currentPage&&0==o?(T[1].add(d[1][1]),o=1):1==e.currentPage&&2==o?(T[1].remove(d[2][1]),o=1):2==e.currentPage&&1==o?(T[1].add(d[2][1]),o=2):2==e.currentPage&&3==o?(T[1].remove(d[3][1]),o=2):3==e.currentPage&&2==o?(T[1].add(d[3][1]),o=3):3==e.currentPage&&4==o?(T[1].remove(d[4][1]),o=3):4==e.currentPage&&3==o&&(T[1].add(d[4][1]),o=4)}),F.addEventListener("scroll",function(){p.hide(),f.hide()}),F.addEventListener("touchstart",function(){1==d.length||(0==o&&1!=d.length?p.show():o==d.length-1&&1!=d.length?f.show():(f.show(),p.show()))}),F.addEventListener("touchend",function(){f.hide(),p.hide()}),i=null,F=null,table=null,ads=null,r=null,m=null,l=null,n}function createEventView(e,t,i,n){var o=Ti.UI.createTableView({separatorColor:"transparent",backgroundColor:"#e2e2e2"});o.bottom=i;var a=[];if(e.length>0){for(var r=0,d=0,l=0,c=new GetFeed(Feeds.adFeed()),s="",u=0;u<e.length;u++){var w=new Post(e[u]);if(0==r||s!=w.pubDate&&0!=r){var m=new HeaderRow(w,tracker,t);if(0!=d&&d%3==0&&3>l){var g=new Ad(c[l],tracker,t);a.push(g),l++,3==l&&(l=0)}a.push(m),d++}var g=new SingleRow(w,tracker,t);a.push(g),r++,s=w.pubDate}o.setData(a),n.push([e,o])}return o}var ApplicationWindow=require("ui/common/ApplicationWindow"),GetFeed=require("ui/common/GetFeed"),Feed=require("ui/common/Feed"),Post=require("ui/common/Post"),HeaderRow=require("ui/common/HeaderRow"),SingleRow=require("ui/common/SingleRow"),Ad=require("ui/common/Ad"),PostTable=require("ui/common/PostTable");module.exports=EventsWindow;